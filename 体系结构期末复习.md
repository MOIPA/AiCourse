# 期末复习


## 1. 软件架构

1. What is software architecture？软件架构是系统的基本组织形式，体现在其组件、组件之间的关系、组件与环境的关系，以及指导其设计和演化的原则中。design包含architecture，architecture包含structure，结构是静态的。

2. What does a software architect do？ 体系架构的职责包括：联络（联系客户和技术团队，联系需求分解师，联系管理和营销部门），软件工程（应用软件工程技术到架构中），技术知识（要有充分的技术相关知识，对技术领域有深入理解），风险管理（管理和识别技术和设计选择的相关风险）

3. Where do architectures come from？技术方面（技术环境和技术决策），业务方面（涉众，组织，业务），ASRs，NFRs，质量需求

4. Architecture Views？ 逻辑视图（重要的元素和他们之间的关系），过程视图（元素之间的并发和交互），物理视图（主要过程和组件是怎么映射到硬件上的），开发视图（组件的内部组织联系），架构用例（与多个视图有关）

5. Architectural activities and process？ 1. 识别ASRs 2. 输入需求约束，模式和策略，优先级质量属性场景进行架构设计，输出候选视图 3. 文档化

## 2. 质量属性

1. Software Requirements？功能需求（说明系统必须达成的功能，应该做什么），质量需求（系统提供功能时应该满足的整个系统的理想特征），约束条件（约束是预先指定的设计决策，通过设计决策的协调满足约束，包含行业规则，法律法规等）

2. 质量属性场景建模？刺激，刺激源，工件，环境，响应，响应度量

3. 质量属性有哪些？可用性，互操作性，可修改性，性能，安全，可测试性，易用性

4. tactics和strategy关系：一个策略就是一个设计决策，一组策略就是一个架构战略（strategy）或者是架构。

5. 质量属性的策略：可用性策略（故障检测{ping,heartbeat,timestamp}，故障恢复{retry,rollback}，故障预防{transactions,从service移除})，可交互性（服务发现），可修改性（延迟绑定，解耦，高内聚，降低模块尺寸），性能（限制活动反馈，减少系统开销，增加资源，提高并行），安全（攻击检测，限制访问，授权），可测试性（沙盒，特定化接口，记录，限制结构复杂度），易用性（撤回，取消，暂停）

6. How to gather and identify ASRs？1. 从需求文档中收集asr 2. 通过采访涉众 3. 通过了解业务目标 4. 通过质量属性树管理asr（不停分解数量属性直到包含量化指标）

## 3. 架构模式

1. Architecture Patterns？背景，上下文：经常发生问题的场景，问题：在给定上下文中出现的经过适当概括的问题。解决方法：针对问题的成功的经过适当抽象的解决方案。

2. Patterns vs. Tactics？策略比模式更简单，仅有单一的结构或机制来应对单一的架构驱动。策略是构成架构模式的重要组成部分，架构模式通常包含多个策略。策略和架构模式共同构成了软件设计时的工具。

## 4. 设计架构

1. General Design Strategy？1.抽象（将系统抽象为组件和连接件或模块，让设计师关注结构而不是实现） 2.分解（将一个系统关注点分解后处理） 3.分而治之（对每个分解后的模块进行处理） 4.生成和测试（创建相关制品并根据测试路径生成测试用例） 5.迭代（ADD方法多次迭代直到满足所有asr） 6.复用（重用现有架构）

2. 高质量设计决策目录：职责分配（不同组件承担不同功能），协调模型（规定系统各个部分怎么协同工作），数据模型（定义数据的组织，存储和表示方式），资源管理（对系统各类资源的调度分配），架构元素间映射（描述系统不同架构元素之间的关联），绑定时间决策（决定系统中不同组件，服务何时进行绑定），技术选型（选择编程语言，框架，平台等）。

3. Attribute-Driven Design (ADD 2.0)？1.确定有足够信息  2.选择分解的系统要素  3.确定所选要素的ASR  4.选择符合ASR的设计（1.找出设计关注点 2.列出子关注点的替代策略 3.从清单中选择策略 4.确定策略和ASR的关系 5.记录初步架构视图 6.评估并解决不一致问题）  5.实例化架构元素并分配职责  6.为实例化的元素定义接口  7. 验证和细化需求并且实例化元素约束 8.重复2-7步骤知道满足所有ASR

## 5. 微服务架构

1. 微服务的六⼤特性？ 1.通过服务组件化  2.围绕业务能力组织，而不是聚焦技术层面  3.服务高内聚低耦合  4.去中心化  5.基础设施自动化  6.服务高可用，演进式设计

2. 架构对比？ 1.服务间通讯协议，msa用的是轻量级协议如rest，soa用的是重量级协议如SOAP  2.数据管理：msa每个服务有自己的数据模型和数据库，SOA采用全局模型共享数据库 3.规模：SOA采用较大单体应用，mas都是较小的服务

3. 微服务挑战：1.运维要求高：微服务数量多，部署和监控要求高  2.发布复杂：部署环境多样，存在网络性能，分布式事务等挑战  3.部署依赖强：服务间互相调用关系复杂，存在部署顺序依赖  4.通信成本高：跨进程调用比进程内调用消耗更多资源

4. 微服务设计模型：上下文，问题，方案，结果，相关模式

## 6. AI原生应用架构

1. 核⼼特征：以模型驱动和数据为中⼼、Agent 协作、数据闭环、云原⽣集成

2. 关键组件与⼯具链实践：AI ⽹关（Higress）、配置与发现（Nacos）、可观测性（OTel）

3. 典型场景与客户实践：内部⼯具（阿⾥云通义 App）、企业服务（零⼀万物）、⼯业场景

4. 未来规划：智能体平台、MCP 协议⽣态、多模态能⼒

## 7. 企业架构

1. 核⼼定义：具有共同目标的组织集合体的基本组成部分及其内外部关系与设计，治理原则

    覆盖范围：完整企业或者部分业务，涉及多个系统或者功能组的交叉关系，需要从战略，业务，数据，技术等角度设计

    结构化：通过业务领域，流程模型等结构化方法，将企业复杂业务拆解为可管理的组件

    分解战略目标：将企业战略目标分解为可执行的战略能力

    管理系统复杂度：企业架构通过标准化和模块化设计，避免混乱开发

    标准化：简历统一的业务规则，数据标准和技术规范

2. 方法论：

    TOGAF：业务架构，数据架构，应用架构，技术架构

    业务组件建模：将业务解构成可重用的组件，每个组件包含活动，资源和治理。构建模块化业务架构，通过组件间协作和集成实现业务能力的灵活组合

    数据建模：模型分类，通过识别业务对象，绘制关系图，标准化实体和属性，形成完整数据模型


3. 企业架构设计的一般设计过程
    1.业务架构设计
        a.战略设计:确定战略目标和主要措施，分解识别业务目标，拆分能力需求，形成战略能力聚类，形成组织设计(谁来干)
        b.业务设计与分析:通过流程模型、产品模型、数据模型组成并扩展为业务模型，定义了以提高生成效率和避免操作性错误为核心的用户体验模型，并对业务组件进行业务需求分析形成业务架构
    2.应用架构设计:设计应用构件和应用，进行应用分析，服务拆分等方法，识别并定义用例
    3.技术架构设计:包括物理构建设计和技术平台设计
    4.安全架构设计:满足安全要求的设计。选择安全工具

## 8. DDD过程

1. 原理、流程、应用

原理:
    模型驱动:DDD认为业务模型是软件开发的核心，开发者应该深入理解业务领域，构建准确的业务模型。
    领域划分:将业务领域划分为不同的子域，每个子域有其特定的业务逻辑和模型
    统一语言:开发者和业务专家使用统一的语言来沟通，减少误解，确保模型的准确性。
    限界上下文:定义模型的边界，明确不同模型之间的交互规则。

流程:
    1.领域调研:与业务专家合作，深入理解业务需求和流程
    2.模型构建:根据业务需求构建领域模型，包括实体、值对象、聚合等
    3.上下文映射:识别不同模型的边界和交互关系，定义上下文。
    4.实现策略:根据模型设计软件架构，选择合适的技术实现。
    5.迭代开发:通过迭代开发，不断完善模型和软件实现。

应用案例:
    电子商务平台:一个电子商务平台可能包含多个子域，如订单管理、库存管理、用户账户等。每个子.
    域都有自己的模型和业务逻辑。

    订单管理:在订单管理子域中，可以定义订单(Entity)、商品(Value Object)、订单状态(Domain Event)等模型元素。通过聚合(Aggregate)来管理订单和商品的关系，使用存储库(Repository)来持久化订单数据。

    库存管理:库存管理子域关注商品的库存状态，可以使用领域服务(Domain Service)来处理库存的增减逻辑，确保库存数据的一致性。
    
    用户账户:用户账户子域管理用户的个人信息和交易历史。可以使用工厂模式(Factory)来创建用户账户，使用领域事件来记录用户的交易行为。

## 9. 架构决策

1. Architecture Tactics（架构策略/决策）：影响特定质量属性响应的设计决策

2. 软件体系结构设计流程

整体流程
    需求工程：明确需求、驱动因素、关注点和风险。
    范围界定：细化和验证问题空间。
    提出解决方案：由架构师、分析师等参与。
    评估和选择解决方案：考虑合理性，权衡功能与质量需求。
    评估和修改架构描述：确保满足需求。
具体执行步骤
    定义关键关注点和驱动因素。
    定义架构用例和需求。
    定义架构视图和结构。
    应用 ADD 方法。
    评估架构并必要时迭代，采用广度优先与快速迭代方法，避免深度优先。
特点：功能和质量需求迭代；多利益相关者参与；平衡功能与质量需求。